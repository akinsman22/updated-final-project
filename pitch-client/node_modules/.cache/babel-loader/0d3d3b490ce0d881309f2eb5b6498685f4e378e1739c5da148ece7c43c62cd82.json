{"ast":null,"code":"var _jsxFileName = \"/Users/ivantorres/updated-final-project/pitch-client/src/contexts/PitchProvider.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport PitchContext from \"./PitchContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const PitchProvider = props => {\n  _s();\n  const [pitch, setPitch] = useState([]);\n  // const [post, setPost] = useState([]);\n  const baseURL = \"http://localhost:3000/api/pitches/\";\n  useEffect(() => {\n    async function getData() {\n      await allPitches();\n    }\n    getData();\n  }, []);\n  // useEffect hook pulls data from API when app loads\n\n  function allPitches() {\n    return axios.get(baseURL).then(response => setPitch(response.data));\n  }\n  function getPitchById(id) {\n    let useHeaders = {\n      Authorization: `Bearer ${localStorage.getItem('pitchToken')}`\n    };\n    return axios.get(baseURL + id, {\n      headers: useHeaders\n    }).then(response => {\n      return new Promise(resolve => resolve(response.data));\n    });\n  }\n  function makePitch(pitch) {\n    let useHeaders = {\n      Authorization: `Bearer ${localStorage.getItem('pitchToken')}`\n    };\n    return axios.post(baseURL + pitch, {\n      headers: useHeaders\n    }).then(response => {\n      allPitches();\n      return new Promise(resolve => resolve(response.data));\n    });\n  }\n  function updatePitch(pitch) {\n    let useHeaders = {\n      Authorization: `Bearer ${localStorage.getItem('pitchToken')}`\n    };\n    return axios.put(baseURL + pitch.pitchId, pitch, {\n      headers: useHeaders\n    }).then(response => {\n      allPitches();\n      return new Promise(resolve => resolve(response.data));\n    });\n  }\n  function deletePitch(id) {\n    let useHeaders = {\n      Authorization: `Bearer ${localStorage.getItem('pitchToken')}`\n    };\n    return axios.delete(baseURL + id, {\n      headers: useHeaders\n    }).then(response => {\n      allPitches();\n      return new Promise(resolve => resolve(response.data));\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(PitchContext.Provider, {\n    value: {\n      pitch,\n      getPitchById,\n      makePitch,\n      updatePitch,\n      deletePitch\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n_s(PitchProvider, \"sQ5y0Bl2rzPRIYZ+4fpBwe01vhE=\");\n_c = PitchProvider;\nvar _c;\n$RefreshReg$(_c, \"PitchProvider\");","map":{"version":3,"names":["axios","useEffect","useState","PitchContext","PitchProvider","props","pitch","setPitch","baseURL","getData","allPitches","get","then","response","data","getPitchById","id","useHeaders","Authorization","localStorage","getItem","headers","Promise","resolve","makePitch","post","updatePitch","put","pitchId","deletePitch","delete","children"],"sources":["/Users/ivantorres/updated-final-project/pitch-client/src/contexts/PitchProvider.js"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport PitchContext from \"./PitchContext\";\n\nexport const PitchProvider = (props) => {\n    const [pitch, setPitch] = useState([]);\n    // const [post, setPost] = useState([]);\n    const baseURL = \"http://localhost:3000/api/pitches/\";\n\n    useEffect(() => {\n        async function getData() {\n            await allPitches();\n        }\n        getData();\n    }, []);\n    // useEffect hook pulls data from API when app loads\n\n    function allPitches() {\n        return axios.get(baseURL).then(response => setPitch(response.data));\n    }\n\n    function getPitchById(id) {\n        let useHeaders = {\n            Authorization: `Bearer ${localStorage.getItem('pitchToken')}`\n        };\n        return axios.get(baseURL + id, { headers: useHeaders })\n            .then(response => {\n                return new Promise(resolve => resolve(response.data));\n            });\n    }\n\n    function makePitch(pitch) {\n        let useHeaders = {\n            Authorization: `Bearer ${localStorage.getItem('pitchToken')}`\n        };\n        return axios.post(baseURL + pitch, { headers: useHeaders })\n            .then(response => {\n                allPitches();\n                return new Promise(resolve => resolve(response.data));\n            });\n    }\n\n    function updatePitch(pitch) {\n        let useHeaders = {\n            Authorization: `Bearer ${localStorage.getItem('pitchToken')}`\n        };\n        return axios.put(baseURL + pitch.pitchId, pitch, { headers: useHeaders })\n            .then(response => {\n                allPitches();\n                return new Promise(resolve => resolve(response.data));\n            });\n    }\n\n    function deletePitch(id) {\n        let useHeaders = {\n            Authorization: `Bearer ${localStorage.getItem('pitchToken')}`\n        };\n        return axios.delete(baseURL + id, { headers: useHeaders })\n            .then(response => {\n                allPitches();\n                return new Promise(resolve => resolve(response.data));\n            });\n    }\n\n    return (\n        <PitchContext.Provider value={{\n            pitch,\n            getPitchById,\n            makePitch,\n            updatePitch,\n            deletePitch\n        }}>\n            {props.children}\n        </PitchContext.Provider>\n    )\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}