{"ast":null,"code":"var _jsxFileName = \"/Users/ivantorres/updated-final-project/pitch-client/src/contexts/UserProvider.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport UserContext from \"./UserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const UserProvider = props => {\n  _s();\n  const [usersAll, setUsersAll] = useState([]);\n  const [loginedUser, setLoginedUser] = useState([]);\n  // const [signIn, setSignIn] = useState([])\n\n  const baseURL = \"http://localhost:3000/api/users/\";\n  useEffect(() => {\n    async function getData() {\n      await allUsers();\n    }\n    getData();\n  }, []);\n  function allUsers() {\n    return axios.get(baseURL).then(response => setUsersAll(response.data));\n  }\n  // use to filter users\n\n  function generateUser(email, password) {\n    let user = {\n      email,\n      password\n    };\n    return axios.post(baseURL, user).then(response => {\n      return new Promise(resolve => resolve(response.data));\n    });\n  }\n  function signInUser(email, password) {\n    let user = {\n      email,\n      password\n    };\n    return axios.post(`${baseURL}/signin`, user).then(response => {\n      localStorage.setItem('pitchToken', response.data.token);\n      return new Promise(resolve => resolve(response.data));\n    });\n  }\n  function getUser(id, email, password) {\n    let user = {\n      email,\n      password\n    };\n    return axios.get(baseURL + id, user).then(response => {\n      localStorage.setItem('pitchToken', response.data.token);\n      setLoginedUser(response.data);\n      return new Promise(resolve => resolve(response.data));\n    });\n  }\n  function signOutUser() {\n    localStorage.removeItem(\"token\");\n    setLoginedUser({});\n    console.log(\"User logged out\");\n  }\n\n  // }\n  // function verifieCurrentUser =async()=>{\n  //         led decode = await jwt\n  //         return setCurrentUser(decode)\n  //     }\n\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      allUsers,\n      generateUser,\n      signInUser,\n      getUser,\n      loginedUser,\n      usersAll,\n      signOutUser\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 9\n  }, this);\n};\n_s(UserProvider, \"pfFJLNMKo1CWPlhnF8HWt6pseoo=\");\n_c = UserProvider;\nvar _c;\n$RefreshReg$(_c, \"UserProvider\");","map":{"version":3,"names":["axios","useState","useEffect","UserContext","UserProvider","props","usersAll","setUsersAll","loginedUser","setLoginedUser","baseURL","getData","allUsers","get","then","response","data","generateUser","email","password","user","post","Promise","resolve","signInUser","localStorage","setItem","token","getUser","id","signOutUser","removeItem","console","log","children"],"sources":["/Users/ivantorres/updated-final-project/pitch-client/src/contexts/UserProvider.js"],"sourcesContent":["import axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nimport UserContext from \"./UserContext\";\n\nexport const UserProvider = (props) => {\n\n    const [usersAll, setUsersAll] = useState([])\n    const [loginedUser, setLoginedUser] = useState([]);\n    // const [signIn, setSignIn] = useState([])\n\n    const baseURL = \"http://localhost:3000/api/users/\";\n    \n    useEffect(() => {\n        async function getData() {\n            await allUsers();\n        }\n        getData();\n    }, []);\n    \n    function allUsers() {\n        return axios.get(baseURL).then(response => setUsersAll(response.data));\n    }\n    // use to filter users\n\n    function generateUser(email, password) {\n        let user = { email, password };\n\n        return axios.post(baseURL, user)\n            .then(response => {\n                return new Promise(resolve => resolve(response.data));\n            }\n            );\n    }\n\n    function signInUser(email, password) {\n        let user = { email, password }\n\n        return axios.post(`${baseURL}/signin`, user)\n            .then(response => {\n                localStorage.setItem('pitchToken', response.data.token)\n                return new Promise(resolve => resolve(response.data));\n            }\n            );\n    }\n\n    function getUser(id, email, password) {\n        let user = { email, password }\n        return axios.get(baseURL + id, user)\n            .then(response => {\n                localStorage.setItem('pitchToken', response.data.token)\n                setLoginedUser(response.data)\n                return new Promise(resolve => resolve(response.data));\n            })\n    }\n   \n    function signOutUser() {\n        localStorage.removeItem(\"token\")\n        setLoginedUser({})\n        console.log(\"User logged out\")\n    }\n   \n    // }\n    // function verifieCurrentUser =async()=>{\n    //         led decode = await jwt\n    //         return setCurrentUser(decode)\n    //     }\n\n    return (\n        <UserContext.Provider value={{\n            allUsers,\n            generateUser,\n            signInUser,\n            getUser,\n            loginedUser,\n            usersAll,\n            signOutUser\n        }}>\n            {props.children}\n        </UserContext.Provider>\n    )\n}"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,WAAW,MAAM,eAAe;AAAC;AAExC,OAAO,MAAMC,YAAY,GAAIC,KAAK,IAAK;EAAA;EAEnC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACO,WAAW,EAAEC,cAAc,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAClD;;EAEA,MAAMS,OAAO,GAAG,kCAAkC;EAElDR,SAAS,CAAC,MAAM;IACZ,eAAeS,OAAO,GAAG;MACrB,MAAMC,QAAQ,EAAE;IACpB;IACAD,OAAO,EAAE;EACb,CAAC,EAAE,EAAE,CAAC;EAEN,SAASC,QAAQ,GAAG;IAChB,OAAOZ,KAAK,CAACa,GAAG,CAACH,OAAO,CAAC,CAACI,IAAI,CAACC,QAAQ,IAAIR,WAAW,CAACQ,QAAQ,CAACC,IAAI,CAAC,CAAC;EAC1E;EACA;;EAEA,SAASC,YAAY,CAACC,KAAK,EAAEC,QAAQ,EAAE;IACnC,IAAIC,IAAI,GAAG;MAAEF,KAAK;MAAEC;IAAS,CAAC;IAE9B,OAAOnB,KAAK,CAACqB,IAAI,CAACX,OAAO,EAAEU,IAAI,CAAC,CAC3BN,IAAI,CAACC,QAAQ,IAAI;MACd,OAAO,IAAIO,OAAO,CAACC,OAAO,IAAIA,OAAO,CAACR,QAAQ,CAACC,IAAI,CAAC,CAAC;IACzD,CAAC,CACA;EACT;EAEA,SAASQ,UAAU,CAACN,KAAK,EAAEC,QAAQ,EAAE;IACjC,IAAIC,IAAI,GAAG;MAAEF,KAAK;MAAEC;IAAS,CAAC;IAE9B,OAAOnB,KAAK,CAACqB,IAAI,CAAE,GAAEX,OAAQ,SAAQ,EAAEU,IAAI,CAAC,CACvCN,IAAI,CAACC,QAAQ,IAAI;MACdU,YAAY,CAACC,OAAO,CAAC,YAAY,EAAEX,QAAQ,CAACC,IAAI,CAACW,KAAK,CAAC;MACvD,OAAO,IAAIL,OAAO,CAACC,OAAO,IAAIA,OAAO,CAACR,QAAQ,CAACC,IAAI,CAAC,CAAC;IACzD,CAAC,CACA;EACT;EAEA,SAASY,OAAO,CAACC,EAAE,EAAEX,KAAK,EAAEC,QAAQ,EAAE;IAClC,IAAIC,IAAI,GAAG;MAAEF,KAAK;MAAEC;IAAS,CAAC;IAC9B,OAAOnB,KAAK,CAACa,GAAG,CAACH,OAAO,GAAGmB,EAAE,EAAET,IAAI,CAAC,CAC/BN,IAAI,CAACC,QAAQ,IAAI;MACdU,YAAY,CAACC,OAAO,CAAC,YAAY,EAAEX,QAAQ,CAACC,IAAI,CAACW,KAAK,CAAC;MACvDlB,cAAc,CAACM,QAAQ,CAACC,IAAI,CAAC;MAC7B,OAAO,IAAIM,OAAO,CAACC,OAAO,IAAIA,OAAO,CAACR,QAAQ,CAACC,IAAI,CAAC,CAAC;IACzD,CAAC,CAAC;EACV;EAEA,SAASc,WAAW,GAAG;IACnBL,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC;IAChCtB,cAAc,CAAC,CAAC,CAAC,CAAC;IAClBuB,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;EAClC;;EAEA;EACA;EACA;EACA;EACA;;EAEA,oBACI,QAAC,WAAW,CAAC,QAAQ;IAAC,KAAK,EAAE;MACzBrB,QAAQ;MACRK,YAAY;MACZO,UAAU;MACVI,OAAO;MACPpB,WAAW;MACXF,QAAQ;MACRwB;IACJ,CAAE;IAAA,UACGzB,KAAK,CAAC6B;EAAQ;IAAA;IAAA;IAAA;EAAA,QACI;AAE/B,CAAC;AAAA,GA5EY9B,YAAY;AAAA,KAAZA,YAAY;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}